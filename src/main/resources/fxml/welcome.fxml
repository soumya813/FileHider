<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="views.fx.WelcomeController"
            styleClass="main-container">
    <top>
        <!-- Header -->
        <VBox alignment="CENTER" spacing="10.0" styleClass="header-container">
            <children>
                <Label styleClass="app-title" text="FileHider">
                    <font>
                        <Font name="System Bold" size="36.0" />
                    </font>
                </Label>
                <Label styleClass="app-subtitle" text="Secure File Management System">
                    <font>
                        <Font size="16.0" />
                    </font>
                </Label>
            </children>
            <padding>
                <Insets top="20" bottom="20"/>
            </padding>
        </VBox>
    </top>
    <center>
        <!-- Main Content Area -->
        <VBox fx:id="mainContent" alignment="CENTER" spacing="20.0" styleClass="content-area">
            <children>
                <!-- Welcome Buttons -->
                <VBox fx:id="welcomeButtons" alignment="CENTER" spacing="25.0">
                    <children>
                        <Label styleClass="welcome-text" text="Welcome to FileHider" />
                        <Label styleClass="app-description-dark"
                               text="The ultimate tool to secure your files with ease and confidence."
                               wrapText="true" textAlignment="CENTER" maxWidth="400"/>

                        <VBox alignment="CENTER" spacing="10.0">
                            <children>
                                <Button fx:id="loginBtn" text="Login to Your Account" onAction="#showLogin"
                                        styleClass="primary-button" prefWidth="300" prefHeight="40"/>
                                <Label text="Access your secured files" styleClass="button-description"/>
                            </children>
                            <VBox.margin>
                                <Insets top="20.0" />
                            </VBox.margin>
                        </VBox>

                        <VBox alignment="CENTER" spacing="10.0">
                            <children>
                                <Button fx:id="signupBtn" text="Create New Account" onAction="#showSignup"
                                        styleClass="secondary-button" prefWidth="300" prefHeight="40"/>
                                <Label text="Join us and start protecting your data" styleClass="button-description"/>
                            </children>
                        </VBox>

                        <VBox alignment="CENTER" spacing="10.0">
                            <children>
                                <Button fx:id="exitBtn" text="Exit Application" onAction="#exitApplication"
                                        styleClass="exit-button" prefWidth="300" prefHeight="40"/>
                                <Label text="Close the application safely" styleClass="button-description"/>
                            </children>
                        </VBox>
                    </children>
                </VBox>

                <!-- Login Form -->
                <VBox fx:id="loginForm" alignment="CENTER" spacing="15.0" styleClass="form-container" visible="false">
                    <children>
                        <Label styleClass="form-title" text="Login">
                            <font>
                                <Font size="20.0" />
                            </font>
                        </Label>
                        <VBox spacing="10.0">
                            <children>
                                <Label text="Email:" />
                                <TextField fx:id="loginEmailField" promptText="Enter your email" styleClass="input-field" />
                            </children>
                        </VBox>
                        <Button fx:id="loginSubmitBtn" mnemonicParsing="false" onAction="#handleLogin" prefWidth="150.0" styleClass="primary-button" text="Send OTP" />
                        <Button fx:id="loginBackBtn" mnemonicParsing="false" onAction="#showWelcome" prefWidth="150.0" styleClass="secondary-button" text="Back" />
                    </children>
                </VBox>

                <!-- OTP Verification Form -->
                <VBox fx:id="otpForm" alignment="CENTER" spacing="15.0" styleClass="form-container" visible="false">
                    <children>
                        <Label styleClass="form-title" text="Enter OTP">
                            <font>
                                <Font size="20.0" />
                            </font>
                        </Label>
                        <Label fx:id="otpInfoLabel" text="OTP has been sent to your email" />
                        <VBox spacing="10.0">
                            <children>
                                <Label text="OTP:" />
                                <TextField fx:id="otpField" promptText="Enter 6-digit OTP" styleClass="input-field" />
                            </children>
                        </VBox>
                        <Button fx:id="verifyOtpBtn" mnemonicParsing="false" onAction="#handleOTPVerification" prefWidth="150.0" styleClass="primary-button" text="Verify" />
                        <Button fx:id="otpBackBtn" mnemonicParsing="false" onAction="#showLogin" prefWidth="150.0" styleClass="secondary-button" text="Back" />
                    </children>
                </VBox>

                <!-- Signup Form -->
                <VBox fx:id="signupForm" alignment="CENTER" spacing="15.0" styleClass="form-container" visible="false">
                    <children>
                        <Label styleClass="form-title" text="Create New Account">
                            <font>
                                <Font size="20.0" />
                            </font>
                        </Label>
                        <VBox spacing="10.0">
                            <children>
                                <Label text="Full Name:" />
                                <TextField fx:id="signupNameField" promptText="Enter your full name" styleClass="input-field" />
                            </children>
                        </VBox>
                        <VBox spacing="10.0">
                            <children>
                                <Label text="Email:" />
                                <TextField fx:id="signupEmailField" promptText="Enter your email" styleClass="input-field" />
                            </children>
                        </VBox>
                        <Button fx:id="signupSubmitBtn" mnemonicParsing="false" onAction="#handleSignup" prefWidth="150.0" styleClass="primary-button" text="Register" />
                        <Button fx:id="signupBackBtn" mnemonicParsing="false" onAction="#showWelcome" prefWidth="150.0" styleClass="secondary-button" text="Back" />
                    </children>
                </VBox>
                <Label fx:id="statusLabel" alignment="CENTER" prefHeight="40.0" styleClass="status-label" wrapText="true" />
            </children>
        </VBox>
    </center>
</BorderPane>
